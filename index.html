<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
	  <button>SHOW NEW TWEETS</button>
	  <nav></nav>

    <script>
	
	var $body = $('nav');
	function showTweets (){
		$body.html('');
	
		var index = streams.home.length - 1;
		while(index >= 0){
			var time = new Date
			var tweet = streams.home[index];
			var $tweet = $('<div></div>');
			var $date = $('<li></li>');
			var $guy = $('<div></div').html(tweet.user)
			$tweet.text('@' + tweet.user + ': ' + tweet.message).addClass(tweet.user);
			$date.text(time.getMinutes() - tweet.created_at.getMinutes() + ' min ago');
			$tweet.appendTo($body);
			$date.appendTo($tweet);
			index -= 1;
		}
	}	

      $(document).ready(function(){
		showTweets();
      });

	  $('button').on('click', function(){
		  showTweets();
	  });
	  
  	  $('nav').on('click', 'div', function(){
  	  	$body.html('');
		var $user = $(this).attr('class')
		var index = streams.users[$user].length - 1;
		while(index >= 0){
			var tweet = streams.users[$user][index];
			var $tweet = $('<div></div>');
			var $date = $('<div></div>');
			var time = new Date
			$tweet.text('@' + $user + ': ' + tweet.message).addClass('user');
			$date.text(time.getMinutes() - tweet.created_at.getMinutes() + ' min ago');
			$tweet.appendTo($body);
			$date.appendTo($tweet);
  			index -= 1;
  		}

  	  });
	 

    </script>
  </body>
</html>
